[pytest]
# Pytest Configuration for Raspberry Pi Frontier Project
#
# Educational Note:
# This configuration file tells pytest how to run tests and what settings to use.
# It helps maintain consistency across different development environments.

# Where to look for tests
testpaths = tests

# Python files to treat as test modules
python_files = test_*.py *_test.py

# Python classes to treat as test classes
python_classes = Test*

# Python functions to treat as tests
python_functions = test_*

# Minimum Python version required
minversion = 6.0

# Command line options to always use
addopts =
    # Verbose output (show test names)
    -v
    # Show summary info for all test outcomes
    -ra
    # Show local variables in tracebacks
    --showlocals
    # Strict markers - must register custom markers
    --strict-markers
    # Show warnings
    -W default

# Markers for categorizing tests
markers =
    unit: Unit tests that test individual components in isolation
    integration: Integration tests that test multiple components together
    slow: Tests that take a long time to run
    auth: Tests related to authentication
    api: Tests related to API endpoints
    ui: Tests related to Streamlit UI
    database: Tests that require database access
    requires_pi: Tests that require actual Raspberry Pi hardware

# Coverage options (if using pytest-cov)
[coverage:run]
source = src, raspberry_pi
omit =
    */tests/*
    */test_*
    */__pycache__/*
    */venv/*
    */env/*

[coverage:report]
precision = 2
show_missing = True
skip_covered = False

# Exclude lines from coverage
exclude_lines =
    # Standard pragma
    pragma: no cover
    # Don't complain about missing debug-only code
    def __repr__
    # Don't complain if tests don't hit defensive assertion code
    raise AssertionError
    raise NotImplementedError
    # Don't complain if non-runnable code isn't run
    if __name__ == .__main__.:
    # Don't complain about abstract methods
    @abstractmethod
